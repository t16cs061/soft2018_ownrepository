{% load static %}

<!doctype html>

<html lang="ja">

<head>
    <link rel="stylesheet" type="text/css" href="{% static 'css/fullcalendar.min.css' %}">
    <script type="text/javascript" src="{% static 'js/moment.min.js' %}"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.1.min.js"></script>
    <script type="text/javascript" src="{% static 'js/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/fullcalendar.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/ja.js' %}"></script>
    <meta charset="utf-8">
    <title>{{title}}</title>
</head>

<body>
    <h1>{{title}}</h1>

    <div id="calendar">
        <script>
            // ページ読み込み時の処理
            $(document).ready(function () {
 
                // カレンダーの設定
                $('#calendar').fullCalendar({
                    height: 720,
                    lang: "ja",
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,basicWeek,basicDay'
                    },
                    selectable: true,
                    selectHelper: true,
                    navLinks: true,
                    events: {
                        url: "{% url 'mentereserve-detail' %}",
                        error: function() {
                            $('#script-warning').show();
                        }
                    },
                    select: function(start, end) {
                        var title = prompt("予定タイトル:");
                        var eventData;
                        if (title) {
                            eventData = {
                                title: title,
                                start: start,
                                end: end
                            };
                            $('#calendar').fullCalendar('renderEvent', eventData, true);
                        }
                        $('#calendar').fullCalendar('unselect');
                    },
                    editable: true,
                    eventLimit: true,
                });
            });
        </script>
    </div>
    
    <div class="container">
    <a href="{% url 'logout' %}" class="btn-border">ログアウト</a>
    </div>

</body>
</html>
